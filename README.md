WhatsApp API сервис на Node.js для отправки и получения сообщений через WebSocket с использованием библиотеки @whiskeysockets/baileys. Проект включает QR-авторизацию и Express сервер с REST API.

Технологии
- Node.js + TypeScript
- @whiskeysockets/baileys - библиотека для работы с WhatsApp Web API
- Fastify.js - веб-сервер для обработки HTTP запросов
- QRCode Terminal - генерация QR-кода для авторизации в терминале
- Pino - логирование

### Возможности
+ Авторизация через QR-код
+ Отправка сообщений в WhatsApp через REST API
+ Получение и обработка входящих сообщений
+ Постоянное хранение сессии в файловой системе
+ Автоматическое переподключение при разрыве соединения
+ Проверка регистрации номера в WhatsApp

### Требования:
+ Node.js >= 16.x
+ Yarn

Установка
Клонируйте репозиторий:


    git clone https://github.com/XasterismX/whatsup.git
    cd whatsup
Установите зависимости:


    yarn install
Создайте файл .env на основе .env.exemple:


    cp .env.exemple .env
Настройте переменные окружения в файле .env:

    AUTH_FOLDER=./auth
    APP_PORT=8080

Соберите проект:


    yarn build
Запуск
После сборки запустите приложение:


    node dist/service.js
При первом запуске в терминале появится QR-код для авторизации WhatsApp. Отсканируйте его с помощью приложения WhatsApp на телефоне.

### API Endpoints
~~~
POST /send - Отправка сообщения
Отправляет текстовое сообщение на указанный номер WhatsApp.
    
Request:

POST http://localhost:8080/send
Content-Type: application/json

{
"number": "79001234567",
"text": "Привет! Это тестовое сообщение"
}
~~~
## Параметры:
***
```
number (string, обязательный) - номер телефона получателя в международном формате без знака "+" (например: 79001234567)
text (string, обязательный) - текст сообщения
```

***
### Response (успех):
~~~
Status: 200 OK
Body: "OK"
~~~
### Response (ошибка):

~~~
Status: 500 Internal Server Error
Body: { error: "описание ошибки" }
~~~
***
### Пример с curl:
~~~
bash
curl -X POST http://localhost:8080/send \
-H "Content-Type: application/json" \
-d '{
"number": "79001234567",
"text": "Привет из API!"
}'
~~~
***
## Использование
Первый запуск и авторизация
Запустите сервис

В терминале появится QR-код

Откройте WhatsApp на телефоне → Настройки → Связанные устройства

Отсканируйте QR-код

После успешной авторизации данные сохранятся в папке auth/

Отправка сообщения
Используйте POST запрос на endpoint /send с номером и текстом сообщения.

Получение сообщений
Сервис автоматически выводит в консоль все входящие сообщения с информацией об отправителе.
